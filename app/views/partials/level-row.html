{%- set name -%}
{% if model.queryType == 'sea' %}Sea level at {% endif %}
{{ item.name }}{%- if item.iswales -%}(Natural Resources Wales){%- endif -%}
{% if item.isDownstream == true %} (downstream){% endif %}
{% if item.type == 'groundwater' %} borehole{% endif %}
{%- endset -%}

<li class="defra-flood-levels-list__item defra-flood-levels-list__item--{{ model.queryType }}">
  <!-- Location -->
  <div class="defra-flood-levels-list__title">
    {% if item.hasDetail %}
    {% if item.type === 'rainfall' %}
    <a href="/rainfall-station/{{ item.id | urlencode }}">{{ name | safe }} raingauge</a>
    {% else %}
    <a href="/station/{{ item.id | urlencode }}{% if item.isDownstream %}-downstream{% elif item.valueDownstream %}-upstream{% endif %}">
      {% if model.queryType == 'river' %}
      {% if item.riverName %}{{ item.riverName }}{% elif item.riverWiskiName %}{{ item.riverWiskiName }}{% endif %} at
      {% endif %}
      {{ name }}
    </a>
    {% endif %}
    {% if item.state != 'error' %}
    <span class="defra-flood-levels-list-item-meta">Updated {{ item.date }}</span>
    {% endif %}
    {% endif %}
  </div>

  <div class="defra-flood-levels-list__detail">
    <!-- Rainfall -->
    {% if item.type == 'rainfall' %}
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--rainfall">
      <span class="defra-flood-levels-list-item-numeric">{{ item.value1hr }}mm</span>
      <span class="defra-flood-levels-list-item-secondary">last hour</span>
    </div>
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--rainfall">
      <span class="defra-flood-levels-list-item-numeric">{{ item.value6hr }}mm</span>
      <span class="defra-flood-levels-list-item-secondary">last 6 hours</span>
    </div>
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--rainfall">
      <span class="defra-flood-levels-list-item-numeric">{{ item.value24hr }}mm</span>
      <span class="defra-flood-levels-list-item-secondary">last 24 hours</span>
    </div>

    <!-- Sea or tide -->
    {% elif item.type == 'tide' %}
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--height">
      {% if item.state == 'error' %}
      <span class="defra-flood-levels-list-item-na">n/a</a>
      {% else %}
      <span class="defra-flood-levels-list-item-height">
        {{ item.value }}m
      </span>
      {% endif %}
    </div>
    {% if model.queryType == 'river' %}
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--trend">
      <span class="defra-flood-levels-list-item-na">n/a</span>
    </div>
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--state">
      <span class="defra-flood-levels-list-item-na">n/a</span>
    </div>
    {% endif %}

    <!-- River or groundwater -->
    {% else %}
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--height">
      {% if item.state == 'error' %}
      <span class="defra-flood-levels-list-item-na">n/a</a>
      {% else %}
      <span class="defra-flood-levels-list-item-height">
        {% if item.isDownstream %}{{ item.valueDownstream }}{% else %}{{ item.value }}{% endif %}m
      </span>
      {% endif %}
    </div>
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--trend">
      <span class="defra-flood-levels-list-item-trend">
        <svg width="15" height="16" viewBox="0 0 15 16">
          <path d="M7.5,6.4l0,9.6" style="fill:none;stroke:currentColor;stroke-width:3px;"/><path d="M7.5,0l5.5,7.2l-11,0l5.5,-7.2Z"/>
          <!-- <path d="M8,6.4l0,9.6" style="fill:none;stroke:currentColor;stroke-width:2px;"/><path d="M8,0l4,6.4l-8,0l4,-6.4Z"/> -->
          <!-- <path d="M9.6,8l-9.6,0" style="fill:none;stroke:currentColor;stroke-width:2px;"/><path d="M16,8l-6.4,4l0,-8l6.4,4Z"/> -->
          <!-- <path d="M9.6,8l-9.6,0" style="fill:none;stroke:currentColor;stroke-width:2px;"/><path d="M1,16l0,-16" style="fill:none;stroke:currentColor;stroke-width:2px;"/><path d="M16,8l-6.4,4l0,-8l6.4,4Z"/> -->
        </svg>
        Rising
      </span>
    </div>
    <div class="defra-flood-levels-list__data defra-flood-levels-list__data--state">
      {% if item.state == 'error' %}
      <span class="defra-flood-levels-list-item-na">n/a</span>
      {% elif item.isDownstream %}
      &nbsp;
      {% else %}
      <strong class="defra-flood-levels-list-item-state defra-flood-levels-list-item-state--{% if item.state == 'high' %}blue{% else %}grey{% endif %}">
        {{ item.state | capitalize }}
      </strong>
      {% endif %}
      </div>
    {% endif %}
    </div>
  </li>